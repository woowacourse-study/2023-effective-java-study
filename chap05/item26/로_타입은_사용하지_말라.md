# item 26 - λ΅ νƒ€μ…μ€ μ‚¬μ©ν•μ§€ λ§λΌ

## β…Β  **Raw Type?**

**Raw Type**μ€ μ λ„¤λ¦­ νƒ€μ…μ—μ„ νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•μ§€ μ•μ€ λ•λ¥Ό μλ―Έν•©λ‹λ‹¤.

μ¤λΌν΄ κ³µμ‹ λ¬Έμ„λ¥Ό λ³΄λ©΄ λ‹¤μκ³Ό κ°™μ΄ κΈ°μ¬λμ–΄ μμµλ‹λ‹¤.

> **[4.8. Raw Types](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.8 "4.8 Raw Types")**  
>   
> **To facilitate interfacing with non-generic legacy code, it is possible to use as a type the erasure ([Β§4.6](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6)) of a parameterized type ([Β§4.5](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5)) or the erasure of an array type ([Β§10.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.1)****) whose element type is a parameterized type. Such a type is called a raw type.**  

μ λ„¤λ¦­μ„ μ‚¬μ©ν•μ§€ μ•μ•λ λ κ±°μ‹ μ½”λ“μ μλ°” λ²„μ „ νΈν™μ„±μ„ μ„ν•΄ μλ” μ ν•μΌλ΅ **Raw Type**μ΄λΌκ³  λ¶€λ¥΄κ³  μμµλ‹λ‹¤.

**Raw Type**, μ–΄λ–¤ μΉκµ¬μΈμ§€ κ°μ΄ μ¤μ‹λ‚μ”? π¤”

μ΄ν•΄ν•κΈ° μμ›”ν•λ„λ΅ **Item 26**μ—μ„ μ‚¬μ©λ  μ©μ–΄λ“¤μ„ μ΅°κΈ μ •λ¦¬ν–μµλ‹λ‹¤.

#### π¦Β Β **μ λ„¤λ¦­ (Generic)?**

λ°μ΄ν„° νƒ€μ…μ„ μΌλ°ν™”ν•λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.

μ»΄νμΌ μ‹μ— μ‚¬μ©ν•  λ°μ΄ν„° νƒ€μ…μ„ λ―Έλ¦¬ μ§€μ •ν•λ” λ°©μ‹μ΄λ©° λ‹¤μκ³Ό κ°™μ€ μ¥μ μ΄ μμµλ‹λ‹¤.

-   κ°μ²΄ νƒ€μ…μ μ•μ •μ„±μ„ λ†’μΌ μ μλ‹¤.
-   νƒ€μ… λ³€ν™ λ° νƒ€μ… κ²€μ‚¬λ¥Ό μ¤„μΌ μ μλ‹¤.
-   μλ»λ νƒ€μ…μ„ μ‚¬μ©ν•μ§€ μ•κ² μ»΄νμΌ μ‹μ μ— λ°©μ§€ν•΄ μ¤€λ‹¤.

#### **π¦Β  νƒ€μ… λ§¤κ°λ³€μ (Type Parameter)**

νƒ€μ… λ§¤κ°λ³€μλ” ν΄λμ¤λ‚ λ©”μ„λ“λ¥Ό μ •μν•  λ• νƒ€μ… μ΄λ¦„μΌλ΅ μ‚¬μ©ν•©λ‹λ‹¤.

```java
class Box<T> {
    private T t;
}
```

μ„ μ½”λ“μ—μ„ ν΄λμ¤μ— μ •μλ νƒ€μ… "**T"**κ°€ "**νƒ€μ… λ§¤κ°λ³€μ**" μ…λ‹λ‹¤.  
("**Box<T>**"λ¥Ό "**μ λ„¤λ¦­ νƒ€μ…"**μ΄λΌκ³  λ¶€λ¦…λ‹λ‹¤.)

#### ****π¦**Β Β λ§¤κ°λ³€μν™” νƒ€μ… (Parameterized Type)**

μ•„λ μ½”λ“μ™€ κ°™μ΄Β **νƒ€μ… λ§¤κ°λ³€μ T**λ¥Ό κµ¬μ²΄μ μΈ νƒ€μ…μΌλ΅ λ€μ²΄ν•΄μ„ μ‚¬μ©ν•©λ‹λ‹¤.

```java
Box<String> box = new Box<>();
```

μ¦‰,Β **νƒ€μ… λ§¤κ°λ³€μ**λ¥ΌΒ **μ‹¤μ  νƒ€μ…μΌλ΅ λ€μ²΄ν• κ²°κ³Όλ¬Ό** **List<String>μ„**Β "**λ§¤κ°λ³€μν™” νƒ€μ…"**μ΄λΌκ³  ν•©λ‹λ‹¤.

(**Stringμ€**Β "**μ‹¤μ  νƒ€μ… λ§¤κ°λ³€μ"**λΌκ³  λ¶€λ¦…λ‹λ‹¤.)

#### ****π¦****Β Β **Raw Type**

**Raw Type**μ€ μ λ„¤λ¦­μ„ μ‚¬μ©ν•μ§€ μ•λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.

λ‹¤μκ³Ό κ°™μ€Β **νƒ€μ… λ§¤κ°λ³€μ**κ°€ μλ‹¤κ³  ν•΄λ΄…μ‹λ‹¤.

```java
List<T> values;
```

μ΄λ¬ν•Β **μ λ„¤λ¦­ ν΄λμ¤**λ¥ΌΒ **Raw Type**μΌλ΅ ν‘ν„ν•λ©΄ μ•„λμ™€ κ°™μ•„μ§‘λ‹λ‹¤.

```java
List values;
```

```java
@Test
void μ»΄νμΌλ¬_νƒ€μ…_λ¶μ•μ •_λ©”μ‹μ§€() {
    final List values = new ArrayList();
    values.add("");
    values.add('a');
    values.add(1);
}
```
  
![image](https://user-images.githubusercontent.com/82203978/221168022-5bb4862a-9a1c-40a1-9f3c-f81f76215f40.png)


**Raw Type**μ€ μ•μ •μ„±μ„ λ³΄μ¥ν•  μ μ—†κ³ Β μ»΄νμΌλ¬ κ²½κ³ λ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.

**Raw Type** μ‚¬μ©μ„ μ™ κ¶μ¥ν•μ§€ μ•λ”μ§€ μ΅°κΈ λ” μμ„Έν μ•μ•„λ³ΌκΉμ” ?

λ¨Όμ € μ½”λ“λ¥Ό μ‘μ„±ν–μµλ‹λ‹¤.

μ λ„¤λ¦­ ν΄λμ¤ **Example<T>**μ„ λ§λ“¤κ³  ν•„λ“μ— μ λ„¤λ¦­ νƒ€μ… **List<T>**λ¥Ό μ„ μ–Έν•κ³ 

ν…μ¤νΈλ΅λ” "**λ΅\_νƒ€μ…()**"κ³Ό "**μ λ„¤λ¦­\_νƒ€μ…()**"μ΄ μμµλ‹λ‹¤.

κ·Έλ¦¬κ³  λ§¤μ° μ‹ κ²½ μ“°μ΄λ” λΉ¨κ°„ λ°‘ μ¤„λ„ "**λ΅\_νƒ€μ…()**" λ‚΄λ¶€μ—μ„ λ³΄μ‹¤ μ μμ„ κ²λ‹λ‹¤.

![image](https://user-images.githubusercontent.com/82203978/221168114-93a525fc-60cd-487a-bb76-cedbf9bd2d1e.png)
![image](https://user-images.githubusercontent.com/82203978/221168133-fd200485-49e4-4e66-a0b1-5a59c8d93acf.png)
> **λ΅\_νƒ€μ… ν…μ¤νΈμ—μ„ μ™ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν–μ„κΉμ”? π¤”**

**Raw Type**μ€ **νƒ€μ… νλΌλ―Έν„°**κ°€ μ—†λ” **μ λ„¤λ¦­ νƒ€μ…**μ…λ‹λ‹¤.

μ„ μ½”λ“μ—μ„ "**λ΅\_νƒ€μ…()**" λ‚΄λ¶€μ— λ³€μλ… **example**μ„ λ°”λ΅ **Raw Type λ³€μ**λΌκ³  ν•©λ‹λ‹¤.

**Example ν΄λμ¤**λ” **μ λ„¤λ¦­ νƒ€μ…**μΌλ΅ μ •μλμ–΄ μμ§€λ§ **exampleμ€ νƒ€μ… νλΌλ―Έν„° μ—†μ΄ μ •μ**λ κ²ƒμ„ λ³Ό μ μμµλ‹λ‹¤.

**Raw Type**μ€ ν•΄λ‹Ή ν΄λμ¤μ— μ •μλ λ¨λ“  νƒ€μ… νλΌλ―Έν„°λ¥Ό μ—†μ•±λ‹λ‹¤.

μ΄ λ•λ¬Έμ— **example.getValues()**μ λ°ν™ νƒ€μ…μ€ **List<T>**κ°€ μ•„λ‹λΌ **List**μ…λ‹λ‹¤.

κ²°κµ­ μ•„λμ™€ κ°™μ΄Β **Object**λ΅ λ°›μ•„μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

ν•μ§€λ§ νƒ€μ… λ³€ν™ μ²΄ν¬μ™€ νƒ€μ… λ³€ν™ μ‘μ—…μ„ μ§„ν–‰ν•΄μ¤μ•Ό ν•κ³  **ClassCastException**μ΄ λ°μƒν•  μ μλ” λ¶μ•μ •ν• μƒν™©μ΄ μƒκΉλ‹λ‹¤ !! πµ

![image](https://user-images.githubusercontent.com/82203978/221168160-aeb0aeab-8742-4049-8654-24c86a830fbb.png)
  
μ§€κΈμ€ μ»΄νμΌμ—μ„ ν„μ¬ μ½”λ“μ— λ¬Έμ κ°€ λμ—λ‹¤λ” κ²ƒμ„ μ• μ μμ§€λ§

λ§μ•½ μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ¤‘μ— λ°νƒ€μ„ μ—λ¬κ°€ λ°μƒν•κ² λλ‹¤λ©΄ ν° λ¬Έμ κ°€ λ  μλ„ μμµλ‹λ‹¤.

μ΄μ λ¶€ν„°λ”Β **Raw Type**μ„ μ‚¬μ©ν•μ§€ λ§κ³  λ” μ•μ „ν• λ°©λ²•μ„ μ•μ•„λ΄…μ‹λ‹¤ π”¥

## **β…Β  λ§¤κ°λ³€μν™”λ μ»¬λ ‰μ… νƒ€μ…**

μ»΄νμΌλ¬λ” Collectionμ—μ„ μ›μ†λ¥Ό κΊΌλ‚Ό λ• **μλ™ ν•λ³€ν™ ν•΄μ£ΌκΈ° λ•λ¬Έμ— μ‹¤ν¨ν•μ§€ μ•μμ„ λ³΄μ¥ν•΄ μ¤λ‹λ‹¤.**

κ·Έμ— λΉ„ν•΄ **Raw Type**μ„ μ“°λ©΄ μ λ„¤λ¦­ μ£Όλ” μ•μ •μ„±, ν‘ν„λ ¥ μƒκ² λ©λ‹λ‹¤.

μ•„λ μ½”λ“λ” "**List<String>**" μΌλ΅ **λ§¤κ°λ³€μν™” νƒ€μ…**μΌλ΅ λ¬Έμμ—΄μ„ μ¶”κ°€ν•λ” μ½”λ“μ…λ‹λ‹¤.

![image](https://user-images.githubusercontent.com/82203978/221168399-0d53efa3-d625-4810-8500-3359cf6a657a.png)
  ![image](https://user-images.githubusercontent.com/82203978/221168412-200f9c85-308e-4e04-b8f2-0209c95a0dfe.png)

**μ‹¤μ  λ§¤κ°λ³€μ νƒ€μ…μ„ ObjectμΌλ΅ λ‘” List<Object>λ” κ΄μ°®μ„κΉ ?**

\-> **λ¨λ“  νƒ€μ…μ„ ν—μ©ν•λ‹¤λ” μμ‚¬**λ¥Ό μ»΄νμΌλ¬μ— λ…ν™•ν μ „λ‹¬ν• κ²ƒμ΄λ―€λ΅ κ΄μ°®μµλ‹λ‹¤.  
(List<Object>λ” μ μ—°μ„±μ΄ λ†’μ§€λ§ νƒ€μ… μ²΄ν¬λ¥Ό ν•΄μ¤μ•Ό ν•λ” λ²κ±°λ΅μ›€κ³Ό μ„ν—μ„±μ΄ μμµλ‹λ‹¤.)

![image](https://user-images.githubusercontent.com/82203978/221168448-ab8a6a82-f799-4457-9901-8ea5fe0f4112.png)
  ![image](https://user-images.githubusercontent.com/82203978/221168460-e80bb2cc-53f1-4416-b82f-82d6fe1b1d00.png)

  
## **β…  Raw Type λ§κ³  μ λ„¤λ¦­ νƒ€μ…μ„ μ‚¬μ©ν•μ.**

λ§μ•½ μ›μ† νƒ€μ…μ„ μ–΄λ–¤ κ²ƒμΌμ§€ λ¨λ¥΄λ” μƒν™©μ—μ„ μ μ—°μ„±μ„ μ„ν•΄ **Raw Type**μ„ μ‚¬μ©ν•λ” κ²ƒμ€ μ§€μ–‘ν•λ” κ² μΆ‹μµλ‹λ‹¤.

**Raw Typeμ€ λ¨λ¥΄λ” νƒ€μ…μ μ›μ†λ„ λ°›μ„ μ μλ”λ° μ΄λ¬ν• ν–‰λ™μ€ μ•μ „μ„±μ„ λ§μ΄ λ–¨μ–΄λ¨λ¦¬λ” λ°©λ²•μ…λ‹λ‹¤.**

![image](https://user-images.githubusercontent.com/82203978/221168482-da2c8a6a-7003-4da5-9ce0-14aa3f82d22d.png)
![image](https://user-images.githubusercontent.com/82203978/221168490-43df84ce-8d35-447f-a5c9-2660e6aece44.png)
μ΄λ° κ²½μ°μ—λ” **μ λ„¤λ¦­**μ„ **Raw Type** λ€μ‹  μ‚¬μ©ν•΄μ„ μ•μ •μ„±μ„ λ†’μ΄λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.

![image](https://user-images.githubusercontent.com/82203978/221168509-3a8797b1-f004-45d5-aada-e6892d40d8ea.png)
  ![image](https://user-images.githubusercontent.com/82203978/221168517-c78815cf-c975-4e24-a40d-58bb48a974f2.png)

## **β…  λΉ„ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…μ„ μ‚¬μ©ν•λΌ.**

![image](https://user-images.githubusercontent.com/82203978/221168533-d0f3e59b-0166-48a4-bcda-77a2ba94f4bb.png)
μ„μ—μ„ **νƒ€μ… λ§¤κ°λ³€μ** "**T**"λ¥Ό λ‘κ³  μ‚¬μ©ν•κ³  μλ”λ°

λ§μ•½ "**Set<String> s2**"μ **μ‹¤μ  λ§¤κ°λ³€μ νƒ€μ… "String"**μ„ λ‹¤λ¥Έ νƒ€μ…μΌλ΅ μμ •ν•κ³  μ‹¶λ‹¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ λ‹¤μ‹ μ‘μ„±ν•΄μ¤μ•Ό ν•©λ‹λ‹¤.

![image](https://user-images.githubusercontent.com/82203978/221168557-4afcacb7-deba-4cc5-ad39-3f078195089c.png)
μ΄λ¬ν• κ²½μ° "**λΉ„ν•μ • μ™€μΌλ“μΉ΄λ“ νƒ€μ…**"μ„ μ‚¬μ©ν•΄λ„ μΆ‹μµλ‹λ‹¤.

**μ‹¤μ  νƒ€μ… λ§¤κ°λ³€μ**λ¥Ό μ‹ κ²½ μ“°κ³  μ‹¶μ§€ μ•μΌλ©΄ **λ¬Όμν‘(?)**λ¥Ό μ‚¬μ©ν•λ” κ²ƒλ„ μΆ‹μ€ λ°©λ²•μ…λ‹λ‹¤.

μ λ„¤λ¦­ νƒ€μ…μΈ "**Set<E>**"μ **λΉ„ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…**μ€ "**Set<?>**"μ…λ‹λ‹¤.

λΉ„ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ… "**Set<?>**"μ€ μ–΄λ–¤ νƒ€μ…λ„ κ°€μ§ μ μλ” **Set** μ…λ‹λ‹¤.

![image](https://user-images.githubusercontent.com/82203978/221168577-ad7ceb5e-7de2-454a-a11d-b4558debd4df.png)
μ‚¬μ‹¤ **Raw Type**μ„ μ΄μ©ν•λ©΄ λΉ„ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…μ„ μ‚¬μ©ν•μ§€ μ•μ•„λ„ λκ³  μ„μ—μ„ μ λ„¤λ¦­ νƒ€μ…μ„ 2κ° μ‚¬μ©ν•  ν•„μ”λ„ μ—†μµλ‹λ‹¤.

κ·Έλ ‡λ‹¤κ³  ν•΄λ„ **Raw Type**μ€ μ§€μ–‘ν•΄μ•Ό ν•©λ‹λ‹¤

λΉ„ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…μΈ "**Set<?>**"μ™€ Raw TypeμΈ **"Set**"μ μ°¨μ΄λ” λ­κΉμ”?

κ°„λ‹¨ν•κ² μ™€μΌλ“μΉ΄λ“ νƒ€μ…μ€ μ•μ „ν•κ³ , "**Raw Type"**μ€ μ•μ „ν•μ§€ μ•μµλ‹λ‹¤.

**"Raw Type Collection"**μ—λ”

μ•„λ¬΄ μ›μ†λ‚ λ„£μ„ μ μμΌλ―€λ΅ μ¤λ¥κ°€ λ°μƒν•κΈ° μ‰½μ§€λ§ "**Collection<?>"**μ—λ” μ–΄λ–¤ μ›μ†λ„ λ„£μ„ μ μ—†λ‹¤.

λ‹¤λ¥Έ μ›μ†λ¥Ό λ„£μΌλ ¤ μ‹λ„ν•λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ»΄νμΌ μ¤λ¥κ°€ λ°μƒν•λ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

![image](https://user-images.githubusercontent.com/82203978/221168670-14a9d64f-6498-4a65-8cf9-f8c3c2a06a99.png)## π”¥  **κ²°λ΅ **

-   **Raw Type**, λ°νƒ€μ„ μμ™Έ λ°μƒ κ°€λ¥
-   **Raw Type**, μ λ„¤λ¦­μ΄ λ„μ…λκΈ° μ΄μ „ λ κ±°μ‹ μ½”λ“μ™€ νΈν™ν•κΈ° μ„ν•΄ μ΅΄μ¬
-   **Set<Object>**,Β  μ–΄λ–¤ νƒ€μ…μ κ°μ²΄λ„ μ €μ¥ν•  μ μλ” λ§¤κ°λ³€μν™” νƒ€μ…
-   **Set<?>**, λ¨λ“  λ¨μΆ…μ νƒ€μ… κ°μ²΄λ§ μ €μ¥ν•  μ μλ” μ™€μΌλ“μΉ΄λ“ νƒ€μ…
-   **Raw TypeμΈ Set**, μ λ„¤λ¦­ νƒ€μ… μ‹μ¤ν…μ— μ†ν•μ§€ μ•λ”λ‹¤.
-   **Set<Object>μ™€ Set<?>λ” μ•μ „ν•μ§€λ§, Raw TypeμΈ Setμ€ μ•μ „ν•μ§€ μ•λ‹¤.**
